Usage: PROG [options ...] [PATTERN ...]

Date filtering:
    -d, --since DATE       Match after DATE
    -u, --until DATE       Match before DATE
    -Z, --utc              Parse and print dates as UTC

Participant filtering:
    -t, --to CONTACT       Match recipients
    -f, --from CONTACT     Match sender
    -w, --with CONTACT     Match sender or recipients
    -c, --chat PATTERN     Match chat name

Pattern modifiers:
    -C, --smart-case       Case-sensitive only when pattern has uppercase
                           letters. (default, turn off with -i or -I)
    -i, --ignore-case      Case-insensitive matches
    -I, --no-ignore-case   Case-sensitive matches
    -q, --literal          Literal string match, no regex
    -x, --regexp           Regexp match (default, turn off with -q)
    -v, --invert-match     Negate next pattern
    -E, --exact            Match full string only
                           Affects next pattern only
    -A, --and=[PATTERN]    Must also appear with previous condition
    -O, --or=[PATTERN]     Either previous or next condition may occur
                           -f x --or y is valid, as well as -f x --or -f y
                           Can mix too like -fX -O -cY
                           See --help-bools for more

Message filtering:
    -M, --message=PATTERN  Match message text. Generally implied, but
                           good for booleans: -f x --or -M y
    -s, --sent             Only match sent
    -r, --received         Only match received
    -L, --links[=URL]      Find links
    -Y, --youtube          Find youtube links
    -S, --soundcloud       Find soundcloud links
    -X, --twitter          Find twitter links
    --service=SRV          One of all|imessage|rcs|sms
                           (default: all)
    -n, --max=NUM          Only print top NUM messages
    -a, --all              Allow calling with no conditions
                           (will print every message unless -n)

Presentation:
    --[no-]color           Enable/disable color output
                           (default: yes if tty)
    -W, --no-wrap          Don't wrap text
    -l, --one-line         [from -> to] message, newlines removed
    -U, --urls             Print only URLs in place of message text
                           when link available
    -m, --no-meta          Print only text or capture
                           No from/to headers, link details
    -k, --count            Print total messges found at the end
    -o, --capture [EXPR]   Print only matched string, or EXPR
    -j, --json             JSON output
    -P, --payload          Include payload in JSON
    -V, --reverse          Reverse sort order (oldest first)

Other:
    -R, --reset            Clear and rebuild cache
    -h, --help             Show this help
    --help-dates           Show detailed DATE help

~~H~~

~~HELP~~

# Dates

Two formats supported:

1. ISO8601 format. Time and TZ optional.

Examples

  -d '2024-12-30'
  -d '2024-12-30 12:34'
  -d '2024-12-30T12:45Z'

Times are considered local unless TZ component present in string,
or -Z option used.

2. Relative dates/times:

  -d 4y     # since 4 years ago
  -d 1m5w   # 1 month 5 weeks
  -d 30min  # 30 minutes
  -d 3a     # since 3am today

See --help-dates for more details.

# Patterns

PATTERN or CONTACT is a regular expression.

CONTACT matches a contact's address book information: You can give part of a name, phone number, email.

Smart-case is the default case, which means case-insensitive, unless upcase letters present.

Use -q to match literal strings, -i and -I to change case sensitivity.

Pattern flags (-iICxq) affect all subsequent options. So:

  -Iqf Andy -xit 'pedro|bob' -cfoo

matches literal case-sensitive 'Andy' sender, and case-insensitive regexp recipient, and chat name too.

Matches are partial, if you need to match a full name (or email, etc) use regexp anchors.



# Capture

--capture EXPR
When EXPR omitted, the entire match is presented.
When its a number, that capture group is presented.
When its a format string: "foo \1 bar \2", interpolates the captures.
-o same as -o"\0"
-o1 same as -o"\1"
--o "\3, \2"
Only works if single pattern given
\0 is the full match

-q, -x only affect subsequent patterns.

can use -x -to a.aa -q -to bbbb

-f a -f b is OR, ie, same opts combine as or. diff opts genereally combine as AND


Examples:
  PROG pattern                   # Basic search
  PROG -f Alice pattern          # From Alice
  PROG -d 2024-01-01 pattern    # Since date
  PROG -o '1,2' '(\w+):(\d+)'   # Capture groups
