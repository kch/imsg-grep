Usage: PROG [options ...] [PATTERN ...]

Date filtering:
    -d, --since DATE       Match after DATE
    -u, --until DATE       Match before DATE
    -Z, --utc              Parse and print dates as UTC

Participant filtering:
    -t, --to CONTACT       Match recipients
    -f, --from CONTACT     Match sender
    -w, --with CONTACT     Match sender or recipients
    -c, --chat PATTERN     Match chat name

Match handling:
    -n, --max=NUM          Only print top NUM messages
    -C, --smart-case       Case-sensitive only when pattern has uppercase
                           letters. (default, turn off with -i or -I)
    -i, --ignore-case      Case-insensitive matches
    -I, --no-ignore-case   Case-sensitive matches
    -l, --literal          Literal string match, no regex
    -x, --regexp           Regexp match (default, turn off with -l)
    -E, --exact            Match full string only
                           Affects next participant filter only
                           No effect on message patterns

Message filtering:
    -s, --sent             Only match sent
    -r, --received         Only match received
    -L, --links[=URL]      Find links
    -Y, --youtube          Find youtube links
    -S, --soundcloud       Find soundcloud links
    -X, --twitter          Find twitter links
    -a, --all              Allow calling with no conditions
                           (will print every message unless -n)

Output formatting:
    --[no-]color           Enable/disable color output
                           (default: yes if tty)
    -o, --capture [EXPR]   Print only $& or EXPR
    -m, --message-only     Only print message text
    -1, --one-line         [from -> to] message, newlines removed
    -j, --json             JSON output
    -P, --payload          Include payload in JSON
    -V, --reverse          Reverse sort order (oldest first)

Other:
    -R, --reset            Clear and rebuild cache
    -h, --help             Show this help
    --help-dates           Show detailed DATE help

~~H~~

~~HELP~~

# Dates

Two formats supported:

1. ISO8601 format. Time and TZ optional.

Examples

  -d '2024-12-30'
  -d '2024-12-30 12:34'
  -d '2024-12-30T12:45Z'

Times are considered local unless TZ component present in string,
or -Z option used.

2. Relative dates/times:

  -d 4y     # since 4 years ago
  -d 1m5w   # 1 month 5 weeks
  -d 30min  # 30 minutes
  -d 3a     # since 3am today

See --help-dates for more details.

# Patterns

PATTERN or CONTACT is a regular expression.

CONTACT matches a contact's address book information: You can give part of a name, phone number, email.

Smart-case is the default case, which means case-insensitive, unless upcase letters present.

Use -l to match literal strings, -i and -I to change case sensitivity.

Pattern flags (-iICxl) affect all subsequent options. So:

  -Ilf Andy -xit 'pedro|bob' -cfoo

matches literal case-sensitive 'Andy' sender, and case-insensitive regexp recipient, and chat name too.

Matches are partial, if you need to match a full name (or email, etc) use regexp anchors.



# Capture

--capture EXPR
When EXPR omitted, the entire match is presented.
When its a number, that capture group is presented.
When its a format string: "foo $1 bar $2", interpolates the captures.
-o same as -o"$&"
-o1 same as -o"$1"
--o "$3, $2"
Only works if single pattern given

-l,-x only affect subsequent patterns.

can use -x -to a.aa -l -to bbbb

-f a -f b is OR, ie, same opts combine as or. diff opts genereally combine as AND


Examples:
  PROG pattern                   # Basic search
  PROG -f Alice pattern          # From Alice
  PROG -d 2024-01-01 pattern    # Since date
  PROG -o '1,2' '(\w+):(\d+)'   # Capture groups
